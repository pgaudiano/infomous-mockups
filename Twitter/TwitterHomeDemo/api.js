(function(){twttr.anywhere=twttr.anywhere||{};twttr.anywhere.api=twttr.anywhere.api||{};twttr.anywhere.remote=twttr.anywhere.remote||{};twttr.anywhere.api.config={useLocalStorage:false,cacheObjects:true,includeEntities:false,isTestMode:false};var C=["models","util","proxies","mixins"];for(var B=0,A=C.length;B<A;++B){twttr.anywhere.api[C[B]]={}}var D=[];twttr.anywhere.api._delayEval=function(E){D.push(E)};twttr.anywhere.api.config={useLocalStorage:false,cacheObjects:true,includeEntities:false,isTestMode:false};twttr.anywhere.api.updateConfig=function(E){twttr.aug(twttr.anywhere.api.config,E)};twttr.anywhere.api.initialize=function(F){this.updateConfig(F);for(var H=0,E=D.length;H<E;++H){D[H]()}for(var G in twttr.anywhere.api.models){if(G=="Base"){continue}(function(){twttr.anywhere.api.proxies[G]=twttr.anywhere.api.util.proxyModel(twttr.anywhere.api.models[G],function(I){this.event=I})}())}twttr.anywhere.api.util.BaseCollection._name="twttr.anywhere.proxies.Collection";twttr.anywhere.api.proxies.Collection=twttr.anywhere.api.util.proxyModel(twttr.anywhere.api.util.BaseCollection,function(I){this.event=I});delete twttr.anywhere.api.util.BaseCollection._name;if(twttr.anywhere.api.config.useLocalStorage&&window.localStorage){twttr.anywhere.api.cache=new twttr.anywhere.api.util.LocalStorageCache()}else{twttr.anywhere.api.cache=new twttr.anywhere.api.util.RequestCache()}}}());twttr.anywhere.api._delayEval(function(){twttr.anywhere.api.globalEvents=twttr.aug({},twttr.EventProvider)});twttr.anywhere.api.endpoints={"blocks/blocking/ids":{url:"blocks/blocking/ids",type:"GET"},":user/:list_id/subscribers/create":{url:":user/:list_id/subscribers",type:"POST",optional_parameters:true},"promoted_content/:event_type/log":{url:"promoted_content/:event_type/log",type:"GET",optional_parameters:true},":user/lists":{url:":user/lists",type:"GET",optional_parameters:true},"geo/search":{url:"geo/search",type:"GET",optional_parameters:true},"followers/ids":{url:"followers/ids",type:"GET",optional_parameters:true},"users/show":{url:"users/show",type:"GET",optional_parameters:true},"urls/resolve":{url:"urls/resolve",type:"GET",optional_parameters:true},"account/settings":{url:"account/settings",type:"GET"},"account/update_profile_background_image":{url:"account/update_profile_background_image",type:"POST",optional_parameters:true},"users/recommendations/hide":{url:"users/recommendations/hide",type:"POST",optional_parameters:true},"friendships/update":{url:"friendships/update",type:"POST",optional_parameters:true},"statuses/griffin_merged_timeline":{url:"statuses/griffin_merged_timeline",type:"GET",optional_parameters:true},":user/lists/memberships":{url:":user/lists/memberships",type:"GET",optional_parameters:true},"lists/destroy":{url:"lists/destroy",type:"POST",optional_parameters:true},"saved_searches/show/:id":{url:"saved_searches/show/:id",type:"GET",optional_parameters:true},"friendships/show":{url:"friendships/show",type:"GET",optional_parameters:true},"lists/statuses":{url:"lists/statuses",type:"GET",optional_parameters:true},"statuses/friends":{url:"statuses/friends",type:"GET",optional_parameters:true},"users/lookup":{url:"users/lookup",type:"GET",optional_parameters:true},"statuses/show":{url:"statuses/show",type:"GET",optional_parameters:true},"statuses/user_timeline":{url:"statuses/user_timeline",type:"GET",optional_parameters:true},"statuses/:id/retweeted_by/ids":{url:"statuses/:id/retweeted_by/ids",type:"GET",optional_parameters:true},"trends/available":{url:"trends/available",type:"GET",optional_parameters:true},":user/:id/subscribers/destroy":{url:":user/:id/subscribers",type:"DELETE",optional_parameters:true},":user/:id/members/destroy":{url:":user/:id/members",type:"DELETE",optional_parameters:true},"account/update_delivery_device":{url:"account/update_delivery_device",type:"POST",optional_parameters:true},"direct_messages/new":{url:"direct_messages/new",type:"POST",optional_parameters:true},"users/suggestions/random":{url:"users/suggestions/random",type:"GET",optional_parameters:true},"geo/nearby_places":{url:"geo/nearby_places",type:"GET",optional_parameters:true},"blocks/blocking":{url:"blocks/blocking",type:"GET",optional_parameters:true},"friendships/accept":{url:"friendships/accept",type:"POST",optional_parameters:true},"statuses/update":{url:"statuses/update",type:"POST",optional_parameters:true},"saved_searches/create":{url:"saved_searches/create",type:"POST",optional_parameters:true},":user/:list_id/subscribers":{url:":user/:list_id/subscribers",type:"GET",optional_parameters:true},"statuses/retweeted_to_me":{url:"statuses/retweeted_to_me",type:"GET",optional_parameters:true},"statuses/griffin_timeline":{url:"statuses/griffin_timeline",type:"GET",optional_parameters:true},":user/:list_id/subscribers/:id":{url:":user/:list_id/subscribers/:id",type:"GET",optional_parameters:true},"statuses/retweets/:id":{url:"statuses/retweets/:id",type:"GET",optional_parameters:true},"statuses/public_timeline":{url:"statuses/public_timeline",type:"GET"},"statuses/friends_timeline":{url:"statuses/friends_timeline",type:"GET",optional_parameters:true},"trends/weekly":{url:"trends/weekly",type:"GET",optional_parameters:true},"account/update_profile_image":{url:"account/update_profile_image",type:"POST",optional_parameters:true},"users/suggestions":{url:"users/suggestions",type:"GET",optional_parameters:true},"friendships/cancel":{url:"friendships/cancel",type:"POST",optional_parameters:true},"statuses/sample":{url:"statuses/sample",type:"GET",optional_parameters:true},"account/update_profile":{url:"account/update_profile",type:"POST",optional_parameters:true},"notifications/follow":{url:"notifications/follow",type:"POST",optional_parameters:true},"geo/place":{url:"geo/place",type:"POST",optional_parameters:true},"lists/show":{url:"lists/show",type:"GET",optional_parameters:true},"statuses/followers":{url:"statuses/followers",type:"GET",optional_parameters:true},"friendships/accept_all":{url:"friendships/accept_all",type:"POST"},"help/test":{url:"help/test",type:"GET"},":user/lists/subscriptions":{url:":user/lists/subscriptions",type:"GET",optional_parameters:true},"direct_messages/destroy":{url:"direct_messages/destroy",type:"POST",optional_parameters:true},"statuses/home_timeline":{url:"statuses/home_timeline",type:"GET",optional_parameters:true},":user/:list_id/members/:id":{url:":user/:list_id/members/:id",type:"GET",optional_parameters:true},report_spam:{url:"report_spam",type:"POST",optional_parameters:true},"related_results/show/:id":{url:"related_results/show/:id",type:"GET",optional_parameters:true},"account/rate_limit_status":{url:"account/rate_limit_status",type:"GET"},"urls/shorten":{url:"urls/shorten",type:"GET",optional_parameters:true},"geo/reverse_geocode":{url:"geo/reverse_geocode",type:"GET",optional_parameters:true},"trends/daily":{url:"trends/daily",type:"GET",optional_parameters:true},"account/verify_credentials":{url:"account/verify_credentials",type:"GET"},":user/lists/create":{url:":user/lists",type:"POST",optional_parameters:true},"account/update_profile_colors":{url:"account/update_profile_colors",type:"POST",optional_parameters:true},"users/suggestions/:slug/members":{url:"users/suggestions/:slug/members",type:"GET",optional_parameters:true},"geo/similar_places":{url:"geo/similar_places",type:"GET",optional_parameters:true},"blocks/create":{url:"blocks/create",type:"POST",optional_parameters:true},":user/:list_id/members":{url:":user/:list_id/members",type:"GET",optional_parameters:true},"friends/ids":{url:"friends/ids",type:"GET",optional_parameters:true},"favorites/destroy/:id":{url:"favorites/destroy/:id",type:"POST",optional_parameters:true},"geo/id/:id":{url:"geo/id/:id",type:"GET",optional_parameters:true},"statuses/retweet":{url:"statuses/retweet",type:"GET",optional_parameters:true},"favorites/:id":{url:"favorites/:id",type:"GET",optional_parameters:true},"statuses/retweeted_by_me":{url:"statuses/retweeted_by_me",type:"GET",optional_parameters:true},"statuses/griffin_social_timeline":{url:"statuses/griffin_social_timeline",type:"GET",optional_parameters:true},":user/:list_id/members/create":{url:":user/:list_id/members",type:"POST",optional_parameters:true},"users/search":{url:"users/search",type:"GET",optional_parameters:true},"statuses/filter":{url:"statuses/filter",type:"POST",optional_parameters:true},"friendships/create":{url:"friendships/create",type:"POST",optional_parameters:true},"account/settings/create":{url:"account/settings",type:"POST",optional_parameters:true},"trends/current":{url:"trends/current",type:"GET",optional_parameters:true},"users/suggestions/:slug":{url:"users/suggestions/:slug",type:"GET",optional_parameters:true},"statuses/firehose":{url:"statuses/firehose",type:"GET",optional_parameters:true},saved_searches:{url:"saved_searches",type:"GET"},direct_messages:{url:"direct_messages",type:"GET",optional_parameters:true},"friendships/deny_all":{url:"friendships/deny_all",type:"POST"},"lists/update":{url:"lists/update",type:"POST",optional_parameters:true},"blocks/destroy":{url:"blocks/destroy",type:"POST",optional_parameters:true},"friendships/exists":{url:"friendships/exists",type:"GET",optional_parameters:true},"users/contributors":{url:"users/contributors",type:"GET",optional_parameters:true},"statuses/mentions":{url:"statuses/mentions",type:"GET",optional_parameters:true},"favorites/create/:id":{url:"favorites/create/:id",type:"POST",optional_parameters:true},trends:{url:"trends",type:"GET"},"trends/:woeid":{url:"trends/:woeid",type:"GET",optional_parameters:true},"urls/shorten_multiple":{url:"urls/shorten_multiple",type:"GET",optional_parameters:true},"statuses/destroy":{url:"statuses/destroy",type:"POST",optional_parameters:true},"statuses/retweet/:id":{url:"statuses/retweet/:id",type:"POST",optional_parameters:true},"direct_messages/sent":{url:"direct_messages/sent",type:"GET",optional_parameters:true},"blocks/exists":{url:"blocks/exists",type:"GET",optional_parameters:true},"saved_searches/destroy/:id":{url:"saved_searches/destroy/:id",type:"POST",optional_parameters:true},"statuses/retweets_of_me":{url:"statuses/retweets_of_me",type:"GET",optional_parameters:true},"friendships/deny":{url:"friendships/deny",type:"POST",optional_parameters:true},"friendships/destroy":{url:"friendships/destroy",type:"POST",optional_parameters:true},"account/end_session":{url:"account/end_session",type:"POST"},"notifications/leave":{url:"notifications/leave",type:"POST",optional_parameters:true},"statuses/:id/retweeted_by":{url:"statuses/:id/retweeted_by",type:"GET",optional_parameters:true},"users/recommendations":{url:"users/recommendations",type:"GET",optional_parameters:true},"account/show_all_inline_media":{url:"account/show_all_inline_media",type:"GET",optional_parameters:true,internal:true},"account/update_show_all_inline_media":{url:"account/update_show_all_inline_media",type:"GET",optional_parameters:true,internal:true},"account/has_dismissed_geo_promo":{url:"account/has_dismissed_geo_promo",type:"GET",optional_parameters:true,internal:true},"account/update_has_dismissed_geo_promo":{url:"account/update_has_dismissed_geo_promo",type:"GET",optional_parameters:true,internal:true},"account/email_status":{url:"account/email_status",type:"GET",optional_parameters:true,internal:true},"users/send_recommendation_rating":{url:"users/send_recommendation_rating",type:"POST",optional_parameters:true,internal:true},"users/send_invites_by_email":{url:"users/send_invites_by_email",type:"POST",optional_parameters:true,internal:true},"users/following_followers_of":{url:"users/following_followers_of",type:"GET",optional_parameters:true,internal:true},"users/follows_in_common_with":{url:"users/follows_in_common_with",type:"GET",optional_parameters:true,internal:true},"users/update_discoverability":{url:"users/update_discoverability",type:"POST",optional_parameters:true,internal:true},"users/show_for_profile":{url:"users/show_for_profile",type:"GET",optional_parameters:true,internal:true},"find_sources/contacts/services":{url:"find_sources/contacts/services",type:"GET",optional_parameters:true,internal:true},"find_sources/contacts/matches":{url:"find_sources/contacts/matches",type:"GET",optional_parameters:true,internal:true},"find_sources/contacts/others":{url:"find_sources/contacts/others",type:"GET",optional_parameters:true,internal:true},"find_sources/contacts/nudge":{url:"find_sources/contacts/nudge",type:"POST",optional_parameters:true},"find_sources/contacts/follow_all":{url:"find_sources/contacts/follow_all",type:"POST",optional_parameters:true,internal:true},"find_sources/contacts/add_to_list":{url:"find_sources/contacts/add_to_list",type:"POST",optional_parameters:true,internal:true},"promos/random_json_promo":{url:"promos/random_json_promo",type:"GET",optional_parameters:true,internal:true},search:{url:"phoenix_search",type:"GET",optional_parameters:true,internal:true,mime_type:"phoenix"},"api/related_results/show/:id":{url:"api/related_results/show/:id",type:"GET",optional_parameters:true,internal:true},"friendships/incoming":{url:"friendships/incoming",type:"GET",optional_parameters:true},"friend_requests/accept":{url:"friend_requests/accept",type:"POST",optional_parameters:true,internal:true},"friend_requests/deny":{url:"friend_requests/deny",type:"POST",optional_parameters:true,internal:true},"friendships/set_shares":{url:"friendships/set_shares",type:"POST",optional_parameters:true,internal:true},"bouncers/reset":{url:"bouncers/reset",type:"POST",optional_parameters:true,internal:true},"account/resend_confirmation_email":{url:"account/resend_confirmation_email",type:"GET",optional_parameters:true,internal:true,mime_type:""},"download/apps":{url:"download/apps",type:"GET",internal:true,mime_type:""},"download/send_link":{url:"download/send_link",type:"POST",optional_parameters:true,internal:true},"devices/list":{url:"devices/list",type:"GET",internal:true},"devices/carriers":{url:"devices/carriers",type:"GET",internal:true},"devices/create":{url:"devices/create",type:"POST",optional_parameters:true,internal:true,mime_type:""},"devices/destroy":{url:"devices/destroy",type:"POST",optional_parameters:true,internal:true,mime_type:""},"promoted_content/home_timeline":{url:"promoted_content/home_timeline",type:"GET"},"promoted_content/feedback":{url:"promoted_content/feedback",type:"POST",optional_parameters:true},"search/facets":{url:"search/facets",type:"GET",optional_parameters:true,internal:true}};twttr.anywhere.api._delayEval(function(){var E={};function C(I,H){return function(L,J,K){delete E[I];if(!L||J===0||J>=600){H({error:true,status:0,reason:"No response or network disconnected."})}else{var M=K.getResponseHeader("X-Twitter-Identity");if(M){L._identity=M}H(L)}}}function B(I,H){return function(K,L){delete E[I];var J="An error occured";if(K.status==401){J="Access denied"}H({error:true,status:K.status,response:JSON.parse(K.responseText),reason:J})}}var A=(function(){var I=0;var H;if(window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)){H=function(){return new twttr.anywhere.remote.server.contentWindow.XMLHttpRequest()}}else{H=function(){try{return new twttr.anywhere.remote.server.contentWindow.ActiveXObject("Microsoft.XMLHTTP")}catch(J){}}}return function(M,K,J){var L=++I;K.success=C(L,J);K.error=B(L,J);K.data=K.data||{};K.headers=K.headers||{};K.headers["X-PHX"]="true";if(!M){K.xhr=H}if(K.type.toLowerCase()!=="get"){K.data.post_authenticity_token=twttr.anywhere.api.config.postAuthenticityToken}D(L,K);return L}}());function F(I,H){var L=I.split("/"),J=0;var K=$.map(L,function(M){if(M.indexOf(":")===0){return H[J++]}else{return M}});return K.join("/")}function D(I,H){if(H.headers){var K=H.headers;H.headers=null;H.beforeSend=function(M){for(var L in K){M.setRequestHeader(L,K[L])}}}var J=$.ajax(H);E[I]=J}function G(L,K){var H,J,I={dataType:"json",type:L.type||"get",url:""};I.type=I.type.toLowerCase();if(L.domain){I.url+=L.domain}else{I.url+=L.internal?"/":"/1/"}I.url+=L.url;H=K.slice(0,L.url.split(":").length-1);if(H.length>0){I.url=F(I.url,H)}if(L.mime_type!==""){I.url+=L.mime_type?("."+L.mime_type):".json"}I.data={};if(L.optional_parameters){J=K.slice(H.length);if(J.length>1){throw new "Optional parameter list is longer than expected"}I.data=J[0]}if(I.type==="delete"||I.type==="put"){I.data._method=L.type.toLowerCase();I.type="post"}if(L.headers){I.headers=L.headers}return I}if(twttr.anywhere.api.config.isTestMode){twttr.anywhere.api.buildRequestOptions=G}twttr.anywhere.api.makeRequest=function(J,I,H){A(J.internal,G(J,I),H)};twttr.anywhere.api.cancelApiRequest=function(I){var H=E[I];if(H){H.abort()}}});twttr.anywhere.api._delayEval(function(){var A={"users/show":{},"account/verify_credentials":{},"users/lookup":{}};var B=0.5;twttr.klass("twttr.anywhere.api.util.LocalStorageCache",function(){}).methods({clear:function(){for(var C in twttr.storage.getAll(/twitter_anywhere_cache_/)){twttr.storage.expire(C)}},put:function(F,D,C){if(F in A){var E=this._createKey(F,D);twttr.storage.setWithExpiry(E,JSON.stringify(C),B);return true}else{return false}},get:function(F,D){var E=this._createKey(F,D),C;if((C=twttr.storage.get(E))){return JSON.parse(C)}else{return null}},expire:function(D){for(var C in twttr.storage.getAll(/twitter_anywhere_cache_/)){if(C.match(D)){twttr.storage.expire(C)}}},writeThroughCallback:function(E,D,C){return twttr.bind(this,function(F){this.put(E,D,F);C(F)})},_createKey:function(D,C){return"twitter_anywhere_cache_"+JSON.stringify([D,C])}})});twttr.anywhere.api._delayEval(function(){twttr.klass("twttr.anywhere.api.util.ObjectCache",function(B,C){this.store={};this.size=0;this.options=C||{};this.keys=this.options.keys||[{name:"id",type:"number"},{name:"id",type:"string"}];this.keyNames={};for(var D=0;D<this.keys.length;D++){this.keyNames[this.keys[D].type]=this.keys[D].name}this.shouldCacheAssociated=!!this.options.cacheAssociated;this.shouldExpireAssociated=!!this.options.expireAssociated;this.klass=B;this.constructor._instances.push(this);B._cache=this}).statics({_capacity:7000,_instances:[],_currentSize:0,_epoch:(new Date),_maxAge:300000,isAtCapacity:function(){return this._currentSize===this._capacity},eject:function(){var D=this._instances[0];for(var C=1,B=this._instances.length;C<B;++C){if(this._instances[C].size>D.size){D=this._instances[C]}}D.eject()},sweeper:function(){var C;for(var E=0,B=this._instances.length;E<B;++E){C=this._instances[E];for(var D in C){if(C[D].createdAt-this._epoch>this._maxAge){C[D].expire()}}}},flush:function(){for(var C=0,B=this._instances.length;C<B;++C){this._instances[C].flush()}}}).methods({_persist:function(C,B){this.store[C]={value:B.data(),accessCount:1,lastAccess:(new Date)};this.size++;this.constructor._currentSize++},_touch:function(B){var C=(new Date);this.store[B].accessCount++;this.store[B].createdAt=C;this.store[B].lastAccess=C-this.constructor._epoch},_eject:function(){this.size--;this.constructor._currentSize--},eject:function(){var C;var D=(new Date)-this.constructor._epoch;for(var B in this.store){if(this.store[B].lastAccess<D){C=B;D=this.store[B].lastAccess}}delete this.store[C];this._eject()},flush:function(){this.constructor._currentSize-=this.size;this.store={};this.size=0},get:function(C){var E=typeof C,D=this.keyNames[E];if(E==="string"){C=C.toLowerCase()}var B=D+"_"+C;if(this.store[B]){this._touch(B);return new this.klass(this.store[B].value)}return null},getMulti:function(E){var F=[];var D=[];for(var C=0,B=E.length;C<B;++C){var G=this.get(E[C]);if(G){F.push(G)}else{D.push(E[C])}}return{hits:new twttr.anywhere.api.util.BaseCollection(F),misses:D}},cache:function(C,L){L=L||{};var E=this.shouldCacheAssociated;if(twttr.is.def(L.shouldCacheAssociated)){E=L.shouldCacheAssociated}if(this.constructor.isAtCapacity()){this.constructor.eject()}var K,G,F;for(var D=0,H=this.keys.length;D<H;++D){F=this.keys[D].name;K=C[F];if(this.keys[D].type==="string"){K=K.toLowerCase()}G=F+"_"+K;this._persist(G,C)}if(E){var B=C.constructor._registry;if(B){for(var J in B){var I=C[J];if(I){this.cacheAssociated(I)}}}}return C},cacheAssociated:function(C){if(C instanceof twttr.anywhere.api.util.BaseCollection&&C.length()){C=C.array;var E=C[0].constructor._cache;if(E){for(var D=0,B=C.length;D<B;++D){E.cache(C[D])}}}else{var E=C.constructor._cache;if(E){E.cache(C)}}},expire:function(C,K){K=K||{};var E=this.shouldExpireAssociated;if(twttr.is.def(K.shouldExpireAssociated)){E=K.shouldExpireAssociated}var I,J;for(var D=0,F=this.keys.length;D<F;++D){J=C[this.keys[D]]+"";I=I||this.store[J];delete this.store[J];this._eject()}if(I){if(E){var B=C.constructor._registry;if(B){for(var H in B){var G=C[H];if(G){this.expireAssociated(G)}}}}return true}return false},expireAssociated:function(C){if(C instanceof twttr.anywhere.api.util.BaseCollection&&C.length()){C=C.array;var E=C[0].constructor._cache;if(E){for(var D=0,B=C.length;D<B;++D){E.expire(C[D])}}}else{var E=C.constructor._cache;if(E){E.expire(C)}}}});twttr.augmentString("twttr.anywhere.api.util.expireObject",function(B){this.constructor._cache.expire(this,B)});twttr.augmentString("twttr.anywhere.api.util.cacheObject",function(B){this.constructor._cache.cache(this,B)});var A=setInterval(function(){twttr.anywhere.api.util.ObjectCache.sweeper},5000)});twttr.anywhere.api._delayEval(function(){var A={};twttr.klass("twttr.anywhere.api.util.RequestCache",function(){this.store={}}).statics({DEFAULT_TTL:300000}).methods({clear:function(){this.store={}},inject:function(F,C,B,D){var E={response:B,timestamp:new Date};if(D){E.RTL=D}this.store[this._createKey(F,C)]=E;return true},put:function(E,C,B,D){if(E in A){return this.inject.apply(this,arguments)}else{return false}},get:function(F,C){var D=this._createKey(F,C),B;var E=this.store[D];if(E){if((E.RTL!==undefined&&E.RTL===0)||((new Date)-E.timestamp>this.constructor.DEFAULT_TTL)){delete this.store[D]}else{if(E.RTL!==undefined){E.RTL--}return E.response}}return null},expire:function(C){for(var B in this.store){if(B.match(C)){delete this.store[B]}}},writeThroughCallback:function(D,C,B){return twttr.bind(this,function(E){this.put(D,C,E);B(E)})},serializeArgs:function(H){var G="";for(var E=0,F=H.length;E<F;++E){var J=H[E];var B=[];if(typeof (J)==="object"){for(var I in J){B.push(I)}B.sort();for(var D=0,C=B.length;D<C;++D){G+=B[D]+J[B[D]]}}else{G+=JSON.stringify(J)}}return G},_createKey:function(C,B){return JSON.stringify([C,this.serializeArgs(B)])}})});twttr.anywhere.api._delayEval(function(){twttr.klass("twttr.anywhere.api.util.EventChain",function(){}).methods(twttr.EventProvider);var A={cast:true,cancel:true,success:true,complete:true,timeout:true,error:true,before:true,eventName:true,cacheOptions:true};var B=["phxcom"];twttr.augmentObject(twttr.anywhere.api.util,{chain:new twttr.anywhere.api.util.EventChain(),noop:function(){},defaultTrigger:"current_user",camelize:(function(){var C={};return function(E){var D=C[E];if(!D){D=E.replace(/_(.)/g,function(F,G){return G.toUpperCase()});C[E]=D}return D}}()),filterOptions:function(I,E){var H={};var D=I.concat(B);for(var G=0,C=D.length;G<C;++G){var F=D[G];if(twttr.is.def(E[F])){H[F]=E[F]}}return H},underscore:(function(){var C={};return function(E){var D=C[E];if(!D){D=E.replace(/([a-z])([A-Z])/g,function(F,H,G){return(H+"_"+G).toLowerCase()});C[E]=D}return D}}()),buildCollection:function(D,F){var G=new twttr.anywhere.api.util.BaseCollection();for(var E=0,C=F.length;E<C;++E){G.push(new D(F[E]))}return G},traverse:function(F,E){if(!E.length){return F}var D=E.shift();if(twttr.is.def(F[D])&&!twttr.is.nil(F[D])){return twttr.anywhere.api.util.traverse(F[D],E)}else{var C=twttr.anywhere.api.util.traverseCurrentTrends(F,D);return C?C:null}},traverseCurrentTrends:function(D,C){if(C=="current_trends"){for(key in D){if(D.hasOwnProperty(key)){return D[key]}}}return null},cleanParams:function(E){var D={};for(var C in E){if(!A[C]){D[C]=E[C]}}return D},optify:function(C){var D={success:twttr.anywhere.api.util.noop,error:twttr.anywhere.api.util.noop,complete:twttr.anywhere.api.util.noop};if(!C){return D}if(twttr.is.fn(C)){return twttr.merge({},D,{success:C})}else{return twttr.merge({},D,C)}},useStringIdentifier:function(E,D){var C=D+"_str";if(!E){return }if(E[C]){E[D]=E[C].toString();delete E[C]}else{if(E[D]){E[D]=E[D].toString()}}},unpackTweetEnvelope:function(C){if(C.promoted_status){C.promoted_status.impression_id=C.impression_id;C.promoted_status.experiments=C.experiments;return C.promoted_status}else{if(C.entities&&C.entities.promoted_content){C.impression_id=C.entities.promoted_content.impression_id;C.experiments=C.entities.promoted_content.experiments;delete C.entities.promoted_content;return C}else{return C}}},sanitize:function(E){if(!E){return E}var D=["\u0000","\u200e","\u200f","\u2028","\u2029","\u202a","\u202b","\u202c","\u202d","\u202e","\ufffe","\ufeff","\uffff"];var C;for(C=0;C<D.length;C++){E=E.replace(D[C],"")}return E},returnClassFromType:function(C){if(twttr.is.array(C)){return[twttr.anywhere.api.models[C[0]]]}else{return twttr.anywhere.api.models[C]}},genEventName:function(){return"chain_"+(new Date()).getTime()+Math.random()*1000},proxyNameFromType:function(C){if(C===undefined){return null}return(C===null||twttr.is.array(C))?"Collection":C},makeRemoteRequest:function(I,E,D,C){var F=this;var G,H=E;C=C||{};G=typeof (D)==="function"?{success:D}:D;new twttr.anywhere.api.util.RemoteRequest(twttr.merge({methodName:I,args:E,callbacks:G},C)).send()},callMethod:function(C){var I,L=twttr.anywhere.api.util.RemoteRequest.priorities.NORMAL,D=twttr.anywhere.api.cache,K=true,E={};if(C.options){I=C.options.cast;delete C.options.cast;if(C.options.headers){E=C.options.headers;delete C.options.headers}if(C.options.priority){L=C.options.priority;delete C.options.priority}if(C.options.useRequestCache){K=C.options.useRequestCache;delete C.options.useRequestCache}}I=I||C.cast;var F=C.params[C.params.length-1];if(twttr.is.object(F)){C.params[C.params.length-1]=twttr.anywhere.api.util.cleanParams(F)}var G;function J(M){if(M.packed_response_type){if(M.available_features){D.inject("account/available_features",{},M.available_features,1)}}else{C.dataSource.shift()}var P=C.dataSource.length?twttr.anywhere.api.util.traverse(M,C.dataSource):M;var O=!twttr.is.def(P)||twttr.is.nil(P);var N;if(twttr.is.array(I)){N=O?new twttr.anywhere.api.util.BaseCollection:twttr.anywhere.api.util.buildCollection(I[0],P)}else{if(O){N=null}else{N=(I)?new I(P):P}}setTimeout(function(){C.options.success(N,M)},0)}if(D&&K&&(G=D.get(C.url,C.params))){J(G)}else{var H={before:C.options.before,success:(D)?D.writeThroughCallback(C.url,C.params,J):J,error:C.options.error,complete:C.options.complete,timeout:C.options.timeout,cancel:C.options.cancel};twttr.anywhere.api.util.makeRemoteRequest(C.url,C.params,H,{headers:E,priority:L})}},chainableFn:function(C,E){var D;if(!E.eventName){D=twttr.anywhere.api.util.genEventName()}else{D=E.eventName;delete E.eventName}function F(G,H){if(F._curry&&G instanceof twttr.anywhere.api.util.BaseCollection){if(F._curry instanceof twttr.anywhere.api.util.BaseCollection){G=G.concat(F._curry)}else{G.push(F._curry)}}C(G,{response:H});twttr.anywhere.api.util.chain.trigger(D,[G])}F.event=D;return F},cacheFn:function(C,D){return function(I){D=D||{};var H;if(I instanceof twttr.anywhere.api.util.BaseCollection){var F=I.toArray();for(var G=0,E=F.length;G<E;++G){if(twttr.is.object(F[G])&&F[G].constructor._isModel&&F[G].constructor.isCacheable()){H=F[G].constructor._cache.get(F[G].toParam());if(D.skipOverwrite&&H){F[G]=H}else{F[G].cache(D)}}}}else{if(I instanceof twttr.anywhere.api.models.Base){if(I.constructor.isCacheable()){H=I.constructor._cache.get(I.toParam());if(D.skipOverwrite&&H){I=H}else{I.cache(D)}}}}C.apply({},arguments)}},expiryFn:function(C){return function(G){if(G instanceof twttr.anywhere.api.util.BaseCollection){var E=G.toArray();for(var F=0,D=E.length;F<D;++F){if(E[F].constructor._isModel&&E[F].constructor.isCacheable()){E[F].expire()}}}else{if(G instanceof twttr.anywhere.api.models.Base){if(G.constructor.isCacheable()){G.expire()}}}C.apply({},arguments)}},writeThroughFn:function(C,D,E,G){var F=function(K,I){var J;for(var H in I){J=I[H];if(twttr.is.fn(J)){J=J.apply(E,[K].concat(G))}K.sync(H,J)}};return function(K){if(K instanceof twttr.anywhere.api.util.BaseCollection){var I=K.toArray();for(var J=0,H=I.length;J<H;++J){if(I[J].constructor._isModel&&I[J].constructor.isCacheable()){F(I[J],D)}}}else{if(K instanceof twttr.anywhere.api.models.Base){if(K.constructor.isCacheable()){F(K,D)}}}C.apply({},arguments)}},triggerFn:function(D,E,C){return function(F){D.trigger(E,arguments);C.apply({},arguments)}},decorateCallbacks:function(D,E,F){var I,H=["success","error","complete","before"];for(var G=0,C=H.length;G<C;++G){I=H[G];F.callbacks[I]=twttr.anywhere.api.util.triggerFn(D,E+"_"+I,F.callbacks[I],F.args)}},chainableMethod:function(E,D,G){if(twttr.is.fn(D)){G=D;D={}}var C=twttr.anywhere.api.util.proxyNameFromType(E);var F=function(){var P={};var L=this instanceof twttr.anywhere.api.models.Base?this.constructor:this;var M=Array.prototype.slice.call(arguments);var J=M.pop();if(J!==undefined&&J!==null){if(twttr.is.array(J)||!twttr.is.object(J)||(E===null&&twttr.is.fn(J))){M.push(J)}else{if(twttr.is.fn(J)){P.success=J}else{P=J}}}var N=[].concat(D.decorators||[]);P.success=P.success||twttr.anywhere.api.util.noop;P.error=P.error||twttr.anywhere.api.util.noop;P.before=P.before||twttr.anywhere.api.util.noop;P.complete=P.complete||twttr.anywhere.api.util.noop;if(!D.writes){if(!twttr.is.def(D.cache)||D.cache!==false){N.push({decorator:twttr.anywhere.api.util.cacheFn,args:[P.cacheOptions]})}if(D.expire){N.push({decorator:twttr.anywhere.api.util.expiryFn,args:[]})}}else{N.push({decorator:twttr.anywhere.api.util.writeThroughFn,args:[D.writes,this,M]});if(!twttr.is.def(D.cache)||D.cache!==false){N.push({decorator:twttr.anywhere.api.util.cacheFn,args:[{skipOverwrite:true}]})}}var O,Q;if(D.triggers){Q=twttr.is.fn(D.triggers)?D.triggers(this):D.triggers;if(D.triggeredBy){O=twttr.anywhere.api.models[D.triggeredBy]}else{O=L}twttr.anywhere.api.util.decorateCallbacks(O,Q,{callbacks:P,args:M})}P=twttr.anywhere.api.util.optify(P);N.push({decorator:twttr.anywhere.api.util.chainableFn,args:[P]});P.cast=twttr.anywhere.api.util.returnClassFromType(E);M.push(P);var H=null;if(L._isModel&&L.isCacheable()&&D.cacheLookup){H=D.cacheLookup.apply(L,M)}if(H&&H.partialHit){for(var I=0,K=N.length;I<K;++I){P.success=N[I].decorator.apply(this,[P.success].concat(N[I].args))}P.success._curry=H.curry;G.apply(this,H.args)}else{if(H){P.success=twttr.anywhere.api.util.chainableFn(P.success,P);setTimeout(function(){P.success(H)},0)}else{for(var I=0,K=N.length;I<K;++I){P.success=N[I].decorator.apply(this,[P.success].concat(N[I].args))}H=G.apply(this,M)}}if(!P.eventName&&C&&this.constructor!=twttr.anywhere.api.util.BaseCollection){return new twttr.anywhere.api.proxies[C](P.success.event)}else{return H}};F.proxyName=C;F.returnType=E;return F},aliasMethod:function(D,F){var C=twttr.anywhere.api.util.proxyNameFromType(D);var E=function(){return F.apply(this,arguments)};E.proxyName=C;return E},proxyModel:function(E,F){var G=E._name.replace("models","proxies");var D=twttr.klass(G,F);for(var C in E.prototype){(function(){var H=C;D.prototype[H]=function(){var L=Array.prototype.slice.call(arguments);var K=!!E.prototype[H].proxyName;var I;if(K){I=twttr.anywhere.api.util.genEventName();var N=L.pop();var J={};if(N!==null&&N!==undefined){if(twttr.is.array(N)||!twttr.is.object(N)||(E==twttr.anywhere.api.util.BaseCollection&&twttr.is.fn(N))){L.push(N)}else{J=N}}J=twttr.anywhere.api.util.optify(J);J.eventName=I;L.push(J)}var M=this;twttr.anywhere.api.util.chain.one(this.event,function(P,O){E.prototype[H].apply(O,L)});if(K){return new twttr.anywhere.api.proxies[E.prototype[H].proxyName](I)}}}())}return D},model:function(D,G){if(!G){G=function(I){twttr.anywhere.api.models.Base.call(this,I)}}var C=twttr.klass(D,G).subclassOf(twttr.anywhere.api.models.Base).statics({_eventing:twttr.aug({},twttr.EventProvider)}).statics({_isModel:true,_uniqueKey:"id",_extensionMethods:[],trigger:function(){this._eventing.trigger.apply(this._eventing,arguments)},_bindWrapper:function H(J,I){return function(K){K.type=J;I.apply({},arguments)}},_bind:function(N,K,J){if(twttr.is.fn(J)){J={success:J}}var O=this;var M=K.split(".");var I,L;I=M.shift();M=M.join(".");for(var P in J){(function(){var Q=P;L=I+"_"+Q;if(M!==""){L+="."+M}N.call(O._eventing,L,O._bindWrapper(I,J[Q]))}())}},bind:function(K,J){var M=K.split(" ");for(var L=0,I=M.length;L<I;++L){this._bind(this._eventing.bind,M[L],J)}},one:function(K,J){var M=K.split(" ");for(var L=0,I=M.length;L<I;++L){this._bind(this._eventing.one,M[L],J)}},unbind:function(J){var L=J.split(" ");for(var K=0,I=L.length;K<I;++K){this._unbind(L[K])}},_unbind:function(K){var N=["success","error","complete","before"];var P=this;var O=K.split(".");var J,L;J=O.shift();O=O.join(".");for(var M=0,I=N.length;M<I;++M){(function(){var Q=N[M];L=J+"_"+Q;if(O!==""){L+="."+O}P._eventing.unbind(L)}())}},identify:function(J){var I=J;if(J instanceof this){I=J[this._uniqueKey]}return I},isCacheable:function(){return !!(twttr.anywhere.api.config.cacheObjects&&this._cache)}}).methods({toParam:function(){return this.constructor.identify(this)},reload:twttr.anywhere.api.util.aliasMethod(D.split(".").pop(),function(){var I=[this.constructor.identify(this)].concat(Array.prototype.slice.apply(arguments));return this.constructor.find.apply(this.constructor,I)})});function E(I){return twttr.anywhere.api.util.underscore(I).toLowerCase()}function F(J,I){I=I||E(J);if(!C._registry){C._registry={}}C._registry[I]=J}C.hasMany=function(J,I){I=I||E(J);if(!C._registry){C._registry={}}C._registry[I]=[J];return C};C.belongsTo=function(J,I){F(J,I);return C};C.hasOne=function(J,I){F(J,I);return C};C.cache=function(I){new twttr.anywhere.api.util.ObjectCache(C,I);C.prototype.cache=twttr.anywhere.api.util.cacheObject;C.prototype.expire=twttr.anywhere.api.util.expireObject;return C};C.uniqueKey=function(I){C._uniqueKey=I;return C};C.extend=function(I){C._extensionMethods.push(I);return C};return C},protoExtend:function(D){function C(){}C.prototype=D;return new C()}})});twttr.anywhere.api._delayEval(function(){twttr.klass("twttr.anywhere.api.util.RemoteRequest",function(B){this.id=++this.constructor.requestId;this.methodName=B.methodName;this.requestParameters=B.args||[];this.priority=B.priority||this.constructor.priorities.NORMAL;this.headers=B.headers||{};this.retryCount=0;this.timeoutTimer=null;this.pendingRequestId=null;var E=this;var D=twttr.anywhere.api.util.noop;this.requestCallbacks={before:B.callbacks.before||D,success:B.callbacks.success||D,error:B.callbacks.error||D,complete:B.callbacks.complete||D,timeout:B.callbacks.timeout||function(F){F.wait()},cancel:B.callbacks.cancel||D};var A=this.requestCallbacks.error;this.requestCallbacks.error=function(F){if(F.status===E.constructor.RATE_LIMIT_STATUS){twttr.anywhere.api.globalEvents.trigger("rate_limited")}if(twttr.loggedIn&&F.status==E.constructor.UNAUTHORIZED_STATUS&&F.response["error"]=="Could not authenticate you."){window.location.reload()}A.apply({},arguments)};var C=this.constructor.timings[this.methodName];if(!twttr.is.def(C)||C.totalRequests>this.constructor.sampleWindow){this.constructor.timings[this.methodName]={timeTotal:0,totalRequests:0}}this.constructor.timings[this.methodName].totalRequests++}).statics({RATE_LIMIT_STATUS:400,UNAUTHORIZED_STATUS:401,useDynamicBackoff:false,requestId:1,sampleWindow:15,maxRetries:3,maxProcessing:3,defaultRequestLatency:5000,latencySteps:[5000,10000,20000],priorities:{IMMEDIATE:4,HIGH:3,NORMAL:2,LOW:1},timings:{},processing:0,pipeline:[],isReady:function(){if(twttr.anywhere.api.config.isTestMode){throw new Error("JS API methods must be stubbed when used in tests.")}else{return twttr.is.def(twttr.anywhere.remote.server)}},isBacklogged:function(){return this.pipeline.length>0},isCapped:function(){return false},isAvailable:function(){return this.processing<this.maxProcessing},isIdle:function(){return this.processing===0},flush:function(){if(!this.isBacklogged()){return }var C=this.maxProcessing-this.processing;for(var B=0,A=C;B<A;++B){this.reschedule()}},reschedule:function(){if(!this.isBacklogged()){return }var D=0,C=this.pipeline[D];for(var B=0,A=this.pipeline.length;B<A;++B){if(this.pipeline[B].request.priority>C.request.priority){D=B;C=this.pipeline[B]}}this.pipeline.splice(D,1);C.runner()}}).methods({setStart:function(A){this.startedOn=A},setEnd:function(A){this.endedOn=A;this.constructor.timings[this.methodName].timeTotal+=this.latency()},latency:function(){return this.endedOn-this.startedOn},dynamicBackoff:function(){var A=this.constructor.timings[this.methodName];if(A.timeTotal!==0){return Math.floor(A.timeTotal/A.totalRequests)}return this.constructor.defaultRequestLatency},incrementalBackoff:function(){return this.constructor.latencySteps[this.retryCount]},_stop:function(){this["stopped_"+this.retryCount]=true;if(this.pendingRequestId){twttr.phoenix.api.cancelApiRequest(this.pendingRequestId)}this._clearTimer()},_clearTimer:function(){if(this.timeoutTimer){clearTimeout(this.timeoutTimer);this.timeoutTimer=null}},_startTimer:function(A){var B=this;A=!!A;var C=null;if(A){C=this.constructor.useDynamicBackoff?this.dynamicBackoff:this.incrementalBackoff}this._clearTimer();this.timeoutTimer=setTimeout(function(){B.requestCallbacks.timeout(B)},A?C.call(this):this.constructor.defaultRequestLatency)},cancel:function(){this._stop();this.requestCallbacks.cancel(this)},retry:function(){this._stop();this.retryCount++;if(this.retryCount>this.constructor.maxRetries){this.cancel();return }this.send()},wait:function(){this._startTimer()},request:function(B,A){if((!this.constructor.isReady()&&!B.internal)||this.constructor.isCapped()){this.constructor.pipeline.push({request:this,runner:A});return }this._run(A)},_run:function(A){this.setStart(new Date);this._startTimer();this.constructor.processing++;A.call(this)},responseHandler:function(A,C){var B=this;return function(D){B.constructor.processing--;if(B.constructor.isAvailable()&&B.constructor.isBacklogged()){B.constructor.reschedule()}B.setEnd(new Date);if(!B["stopped_"+A]){C(D)}}},_buildRequestCallback:function(C){var B=this;var A=this.retryCount;return this.responseHandler(A,function(D){B._clearTimer();if(D&&D.error){C.error.apply({},[D,B])}else{C.success.apply({},[D,B])}C.complete.apply({},[D,B])})},send:function(){var A=this;var B=twttr.anywhere.api.endpoints[this.methodName];if(!B){throw new "Error: The endpoint, "+this.methodName+" is not a registered API method"}B=twttr.merge({},B,{headers:this.headers});this.request(B,function(){var D=A._buildRequestCallback(twttr.merge({},A.requestCallbacks)),C=Array.prototype.slice.apply(A.requestParameters);A.requestCallbacks.before.apply({},[A]);A.pendingRequestId=twttr.anywhere.api.makeRequest(B,C,D)})}})});twttr.anywhere.api._delayEval(function(){var A=twttr.anywhere.api.util.chainableMethod;var B=function(C){return A(null,function(){var E=Array.prototype.slice.call(arguments,0);var D=E.pop();var F=C.apply(this,E);D.success(F);return F})};twttr.klass("twttr.anywhere.api.util.BaseCollection",function(C){this.array=C||[]}).methods({each:B(function(E){for(var D=0,C=this.array.length;D<C;++D){E(this.array[D],D)}return this}),isEmpty:function(){return this.array.length===0},toArray:function(){return this.array},inject:function(){return this.reduce.apply(this,arguments)},reduce:function(D,F){if(arguments.length!==2){throw"Exception: Wrong number of arguments, 3 required"}for(var E=0,C=this.array.length;E<C;++E){D=F(D,this.array[E])}return D},join:function(E,C){if(twttr.is.fn(E)){C=E;E=""}var D=this.array.join(E);if(C){C(D)}return D},concat:function(C){if(C instanceof this.constructor){C=C.array}return new this.constructor(this.array.concat(C))},find:B(function(E){for(var D=0,C=this.array.length;D<C;++D){if(E(this.array[D],D)){return this.array[D]}}return null}),filter:B(function(F){var D=new this.constructor();for(var E=0,C=this.array.length;E<C;++E){if(F(this.array[E],E)){D.push(this.array[E])}}return D}),some:function(E){for(var D=0,C=this.array.length;D<C;++D){if(E.call(this.array,this.array[D],D,this.array)){return true}}return false},every:function(E){for(var D=0,C=this.array.length;D<C;++D){if(!E.call(this.array,this.array[D],D,this.array)){return false}}return true},map:B(function(F){var D=new this.constructor();for(var E=0,C=this.array.length;E<C;++E){D.push(F(this.array[E],E))}return D}),none:function(C){var D=this.any(C);return !D},length:function(){return this.array.length},get:B(function(E,C){var D=this.array[E];if(C){C(D)}return D}),push:function(){if(arguments[0] instanceof this.constructor){this.array.push.apply(this.array,arguments[0].array)}else{this.array.push.apply(this.array,arguments)}return this},pop:function(F,C){var E;if(twttr.is.fn(F)){C=F;F=undefined}if(F){var D=this.array.length-F;E=new this.constructor(this.array.slice(D));this.array=this.array.slice(0,D)}else{E=this.array.pop()}if(C){C(E)}return E},shift:function(){return this.array.shift()},unshift:function(){if(arguments[0] instanceof this.constructor){this.array.unshift.apply(this.array,arguments[0].array)}else{this.array.unshift.apply(this.array,arguments)}return this},first:B(function(D,C){if(!D){D=1}if(twttr.is.fn(D)){C=D;D=1}var E;if(D==1){E=this.array[0]}else{E=new this.constructor(this.array.slice(0,D))}if(C){C(E)}return E}),slice:function(F,C){var D=[F];if(C!==undefined&&C!==null){D.push(C)}var E=this.array.slice.apply(this.array,D);return new this.constructor(E)},reverse:B(function(){return new this.constructor(this.array.reverse())}),last:B(function(D,C){if(!D){D=1}if(twttr.is.fn(D)){C=D;D=1}var E;if(D==1){E=this.array[this.array.length-1]}else{E=new this.constructor(this.array.slice(this.array.length-D))}if(C){C(E)}return E})})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var C=twttr.anywhere.api.util.aliasMethod;var A=twttr.anywhere.api.util.callMethod;twttr.augmentString("twttr.anywhere.api.mixins.StatusActions",{retweet:C("Status",function(D){return twttr.anywhere.api.models.Status.retweet(this,D)}),favorite:C("Status",function(D){return twttr.anywhere.api.models.Status.favorite(this,D)}),unfavorite:C("Status",function(D){return twttr.anywhere.api.models.Status.unfavorite(this,D)}),reply:C("Status",function(E,D){return twttr.anywhere.api.models.Status.reply(this,E,D)})})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var A=twttr.anywhere.api.util.callMethod;var C=twttr.anywhere.api.util.filterOptions;twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.User",function(D){D.statics({findForProfile:B("User",{cacheLookup:function(G,F){var E=this._cache.get(G);if(E){var H={cursor:-1,count:15,user_id:E.id};if((cachedFriends=twttr.API._requestCache.get("statuses/friends",[H]))){twttr.API._requestCache.inject("statuses/friends",[H],cachedFriends,1);return E}else{return false}}else{return false}},decorators:[{decorator:function(E){return function(G,J){if(J.response.friends){var H={cursor:-1,count:15,user_id:G.id};twttr.API._requestCache.inject("statuses/friends",[H],J.response.friends,1)}if(J.response.recommendations){var I={limit:4,pc:false,user_id:G.id};twttr.API._requestCache.inject("users/recommendations",[I],J.response.recommendations,1)}if(J.response.timeline){var F={include_entities:1,contributor_details:true,include_rts:true,user_id:G.id};twttr.API._requestCache.inject("statuses/user_timeline",[F],J.response.timeline,1)}E.apply({},arguments)}},args:[]}]},function(F,E){var G;if(twttr.is.string(F)){G={screen_name:F}}else{G={user_id:F}}A({options:E,url:"users/show_for_profile",params:[G],dataSource:["","user"]})})});D.methods({setWantRetweetsOn:B("User",{expire:true,triggers:"does_want_retweets",triggerTarget:function(E){return"current_user"}},function(E){A({options:E,url:"friendships/update",params:[twttr.merge(E,{user_id:this.id,retweets:"1"})],dataSource:[""]})}),setWantRetweetsOff:B("User",{expire:true,triggers:"doesnt_want_retweets",triggerTarget:function(E){return"current_user"}},function(E){A({options:E,url:"friendships/update",params:[twttr.merge(E,{user_id:this.id,retweets:"0"})],dataSource:[""]})})});return D})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var A=twttr.anywhere.api.util.callMethod;var C=twttr.anywhere.api.util.filterOptions;twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.CurrentUser",function(D){D.methods({followingFollowersOf:B(["User"],function(F,E){var G={cursor:-1};if(twttr.is.string(F)){G.screen_name=F}else{G.user_id=F}A({options:E,url:"users/following_followers_of",params:[twttr.merge(G,E)],dataSource:["","users"]})}),followsInCommonWith:B(["User"],function(F,E){var G={cursor:-1};if(twttr.is.string(F)){G.screen_name=F}else{G.user_id=F}A({options:E,url:"users/follows_in_common_with",params:[twttr.merge(G,E)],dataSource:["","users"]})}),updateDiscoverability:B(undefined,function(F,E){A({options:E,url:"users/update_discoverability",params:[twttr.merge(F,{id:this.id})],dataSource:[""]})}),showAllInlineMedia:B(undefined,function(E){A({options:E,url:"account/show_all_inline_media",params:[{}],dataSource:["","show_all_inline_media"]})}),updateShowAllInlineMedia:B(undefined,function(F,E){A({options:E,url:"account/update_show_all_inline_media",params:[{do_show:F}],dataSource:["","show_all_inline_media"]})}),hasDismissedGeoPromo:B(undefined,function(E){A({options:E,url:"account/has_dismissed_geo_promo",params:[{}],dataSource:["","has_dismissed_geo_promo"]})}),updateHasDismissedGeoPromo:B(undefined,function(F,E){A({options:E,url:"account/update_has_dismissed_geo_promo",params:[{has_dismissed_geo_promo:F}],dataSource:["","has_dismissed_geo_promo"]})}),emailStatus:B(undefined,function(E){A({options:E,url:"account/email_status",params:[{}],dataSource:["","email_status"]})}),emailBounceReset:B(undefined,function(E){A({options:E,url:"bouncers/reset",params:[{}],dataSource:[""]})}),emailResendConfirmation:B(undefined,function(E){A({options:E,url:"account/resend_confirmation_email",params:[{}],dataSource:[""]})})});twttr.augmentObject(D.prototype.friends,{accept:B("User",{triggers:"acceptFollow",triggeredBy:"User"},function(F,E){A({options:E,url:"friendships/accept",params:[{user_id:F}],dataSource:[""]})}),acceptAll:B("User",function(E){A({options:E,url:"friendships/accept_all",params:[{}],dataSource:["","user"]})}),deny:B("User",function(F,E){A({options:E,url:"friendships/deny",params:[{user_id:F}],dataSource:[""]})}),denyAll:B("User",function(E){A({options:E,url:"friendships/deny_all",params:[{}],dataSource:["","user"]})}),cancel:B("User",{triggers:"cancel_request",triggeredBy:"User"},function(F,E){A({options:E,url:"friendships/cancel",params:[{user_id:F}],dataSource:["","user"]})})});return D})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var C=twttr.anywhere.api.util.aliasMethod;var A=twttr.anywhere.api.util.callMethod;var D=twttr.anywhere.api.util.filterOptions;twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.Status",function(E){E.belongsTo("Status","retweetingStatus");E.extend(function(){if(this.isPromoted()){twttr.anywhere.api.util.PromotedStore.putStatus(this)}});E.statics({search:B(["Status"],function(G,F){if(F.near){F.near=encodeURIComponent(F.near)}if(F.within){F.within=encodeURIComponent(F.within)}A({options:F,url:"search",params:[twttr.merge({q:G},F)],dataSource:["","statuses"]})}),related:B(["RelatedTweets"],function(H,F){var G=$.extend({},F);A({options:F,url:"related_results/show/:id",params:[H,G],dataSource:[""]})})});E.methods({related:C(["RelatedTweets"],function(F){return twttr.anywhere.api.models.Status.related(this,F)}),isPromoted:function(){return !!(this.impressionId)}});return E})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var A=twttr.anywhere.api.util.callMethod;twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.RateUserRecommendation",function(C){C.extend(function(){if(!!this.user.promotedContent){twttr.anywhere.api.util.PromotedStore.putUser(this.user)}});C.statics({rate:B(undefined,function(D){A({options:D,url:"users/send_recommendation_rating",params:[D],dataSource:[""]})})});return C})});twttr.anywhere.api._delayEval(function(){var A=0;twttr.klass("twttr.anywhere.api.models.Base",function(G){if(!G){return null}if(G.constructor.uber&&G.constructor.uber.constructor==twttr.anywhere.api.models.Base){return G}this.attributes={};var C=this.constructor._registry;for(var L in G){this.data(L,G[L]);if(L.indexOf("_")!==0){var K=twttr.anywhere.api.util.camelize(L);if(!this[K]){if(C&&C[K]){var J=twttr.anywhere.api.models[C[K]];if(C[K] instanceof Array){this[K]=twttr.anywhere.api.util.buildCollection(J,this.data(L))}else{this[K]=new J(this.data(L))}}else{this[K]=this.data(L)}}}}if(this.constructor._extensionMethods){var D={};for(var F in this){D[F]=true}for(var H=0,I=this.constructor._extensionMethods.length;H<I;++H){var B=this.constructor._extensionMethods[H];B.call(this,this)}for(var F in this){if(!twttr.is.def(D[F])){var E=this[F]&&this[F].data&&twttr.is.fn(this[F].data);this.data(twttr.anywhere.api.util.underscore(F),E?this[F].data():this[F])}}}this._objectId=++A}).methods({sync:function(B,D){var C=twttr.anywhere.api.util.underscore(B);var E=twttr.anywhere.api.util.camelize(B);if(D instanceof twttr.anywhere.api.models.Base){this.attributes[C]=D.attributes}else{this.data(C,D)}this[E]=D;if(this.constructor.isCacheable&&this.constructor.isCacheable()){this.cache()}return D},data:function(B,C){if(typeof B=="string"&&typeof C!="undefined"){this.attributes[B]=C;return C}if(typeof B=="object"&&typeof C=="undefined"){return twttr.merge(this.attributes,B)}if(typeof B=="string"&&typeof C=="undefined"){return this.attributes[B]}if(typeof B=="undefined"&&typeof C=="undefined"){return this.attributes}},clone:function(D){var C=$.extend({},this);C.attributes=$.extend({},this.attributes);if(D){for(var B in D){C.sync(B,D[B])}}return C}})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var E=twttr.anywhere.api.util.aliasMethod;var K=twttr.anywhere.api.util.callMethod;var D=twttr.anywhere.api.util.filterOptions;var J=twttr.anywhere.api.util.noop;var H=twttr.anywhere.api.util.defaultTrigger;var F=twttr.anywhere.api.models.Base;twttr.anywhere.api.util.model("twttr.anywhere.api.models.User",function(M){M.name=twttr.anywhere.api.util.sanitize(M.name);M.description=twttr.anywhere.api.util.sanitize(M.description);if(window.location.protocol==="https:"&&twttr.cdnBase){if(M.profile_image_url&&M.profile_image_url.indexOf("http:")===0){M.profile_image_url=twttr.assets.getPathFromAbsoluteURL(M.profile_image_url,{isSSL:true,isVersioned:false})}if(M.profile_background_image_url&&M.profile_background_image_url.indexOf("http:")===0){M.profile_background_image_url=twttr.assets.getPathFromAbsoluteURL(M.profile_background_image_url,{isSSL:true,isVersioned:false})}}twttr.anywhere.api.models.Base.call(this,M);var L=this;this.lists=function(){return twttr.anywhere.api.models.User.prototype.lists.apply(L,arguments)};this.lists.find=function(){return twttr.anywhere.api.models.User.prototype.lists.find.apply(L,arguments)}}).uniqueKey("screenName").cache({keys:[{name:"id",type:"number"},{name:"screenName",type:"string"}]}).hasOne("Status").statics({find:B("User",{cacheLookup:function(N,M){var L=this._cache.get(N);return L?L:false}},function(M,L){var N;if(twttr.is.string(M)){N={screen_name:M}}else{N={user_id:M}}K({options:L,url:"users/show",params:[N],dataSource:["user"]})}),findAllCached:function(M){var L=this._cache.getMulti(M);return L.hits},findAll:B(["User"],{cacheLookup:function(M,N){var L=this._cache.getMulti(M);var O=L.hits;if(L.misses.length){if(O.isEmpty()){return false}else{return{partialHit:true,curry:O,args:[L.misses,N]}}}else{return O}}},function(M,N){var Q=[];var P=[];for(var O=0,L=M.length;O<L;++O){if(twttr.is.string(M[O])){Q.push(M[O])}else{P.push(M[O])}}K({options:N,url:"users/lookup",params:[{user_id:P.join(","),screen_name:Q.join(",")}],dataSource:["users"]})}),current:B("CurrentUser",function(L){K({options:L,url:"account/verify_credentials",params:[],dataSource:["user"]})}),search:B(["User"],function(M,L){K({options:L,url:"users/search",params:[twttr.merge(L,{q:M})],dataSource:["users"]})})}).methods({bind:twttr.anywhere.api.util.bindMethod,favorites:B(["Status"],function(L){if(!twttr.is.def(L.include_entities)){L.include_entities=twttr.anywhere.api.config.includeEntities}K({options:L,url:"favorites/:id",params:[this.id,L],dataSource:["statuses"]})}),timeline:B(["Status"],function(L){if(!twttr.is.def(L.include_entities)){L.include_entities=twttr.anywhere.api.config.includeEntities}K({options:L,url:"statuses/user_timeline",params:[twttr.merge(L,{user_id:this.id})],dataSource:["statuses"]})}),followers:B(["User"],function(L){K({options:L,url:"statuses/followers",params:[twttr.merge({cursor:-1},L,{user_id:this.id})],dataSource:["","users"]})}),friends:B(["User"],function(L){K({options:L,url:"statuses/friends",params:[twttr.merge({cursor:-1},L,{user_id:this.id})],dataSource:["","users"]})}),_isFollowing:function(N,M,L){twttr.anywhere.api.util.makeRemoteRequest("friendships/exists",[{user_a:N,user_b:M}],{success:L.success,error:L.error})},isFollowing:function(L,N){N=twttr.anywhere.api.util.optify(N);var M=twttr.anywhere.api.models.User.identify(L);this._isFollowing(this.id,M,N)},isFriend:function(L,M){this.isFollowing(L,M)},isFollowedBy:function(L,N){N=twttr.anywhere.api.util.optify(N);var M=twttr.anywhere.api.models.User.identify(L);this._isFollowing(M,this.id,N)},isMutual:function(L,O){O=twttr.anywhere.api.util.optify(O);var N=twttr.anywhere.api.models.User.identify(L);var M=O.success;O.success=function(P){M(P.following&&P.followedBy)};return this.relationshipWith(L,O)},relationshipWith:function(L,O){O=twttr.anywhere.api.util.optify(O);var P=this;var N=twttr.anywhere.api.models.User.identify(L);var M={source_id:this.id};if(twttr.is.string(N)){M.target_screen_name=N}else{M.target_id=N}twttr.anywhere.api.util.makeRemoteRequest("friendships/show",[M],{success:function(R){var Q={following:R.relationship.source.following,followedBy:R.relationship.source.followed_by};if(P instanceof twttr.anywhere.api.models.CurrentUser){Q.notifications=R.relationship.source.notifications_enabled;Q.blocking=R.relationship.source.blocking;Q.wantRetweets=R.relationship.source.want_retweets;Q.canDM=R.relationship.source.can_dm}O.success(Q)},error:O.error})},block:B("User",{expire:true,triggers:"block",triggerTarget:H},function(L){K({options:L,url:"blocks/create",params:[twttr.merge(L,{user_id:this.id})],dataSource:["user"]})}),unblock:B("User",{expire:true,triggers:"unblock",triggerTarget:H},function(L){K({options:L,url:"blocks/destroy",params:[twttr.merge(L,{user_id:this.id})],dataSource:["user"]})}),similarUsers:B(["UserRecommendation"],function(L){K({options:L,url:"users/recommendations",params:[twttr.merge(L,{user_id:this.id})],dataSource:[""]})}),directMessage:E("DirectMessage",function(M,L){return twttr.anywhere.api.models.DirectMessage.send(this.id,M,L)}),dm:E("DirectMessage",function(M,L){return this.directMessage(M,L)}),follow:B("User",{expire:true,writes:{followRequestSent:function(L){return L["protected"]?true:false},following:function(L){return L["protected"]?false:true}},triggers:function(L){if(L["protected"]&&!L.following){return"follow_request"}else{return"follow"}},triggerTarget:H},function(L){K({options:L,url:"friendships/create",params:[$.extend({user_id:this.id},L)],dataSource:["user"]})}),unfollow:B("User",{expire:true,writes:{followRequestSent:false,following:false},triggers:"unfollow",triggerTarget:H},function(M){var L=(this["protected"]&&this.followRequestSent)?"friendships/cancel":"friendships/destroy";K({options:M,url:L,params:[$.extend({user_id:this.id},M)],dataSource:["user"]})}),report:B("User",{expire:true,triggers:"report",triggerTarget:H},function(L){K({options:L,url:"report_spam",params:[{user_id:this.id}],dataSource:["user"]})}),setNotificationsOn:B("User",{expire:true,writes:{notifications:true},triggers:"subscribe",triggerTarget:H},function(L){K({options:L,url:"friendships/update",params:[{user_id:this.id,device:"1"}],dataSource:["user"]})}),setNotificationsOff:B("User",{expire:true,writes:{notifications:false},triggers:"unsubscribe",triggerTarget:H},function(L){K({options:L,url:"friendships/update",params:[{user_id:this.id,device:"0"}],dataSource:["user"]})}),lists:B(["List"],function(L){K({options:L,url:":user/lists",params:[this.id,L],dataSource:["lists_list","lists"]})}),memberships:B(["List"],function(L){K({options:L,url:":user/lists/memberships",params:[this.id,L],dataSource:["lists_list","lists"]})}),subscriptions:B(["List"],function(L){K({options:L,url:":user/lists/subscriptions",params:[this.id,L],dataSource:["lists_list","lists"]})}),contributors:B(["User"],function(L){K({options:L,url:"users/contributors",params:[{id:this.id}],dataSource:[""]})})}).mixin(twttr.anywhere.api.mixins.phoenix.User);twttr.klass("twttr.anywhere.api.models.CurrentUser",function(M){twttr.anywhere.api.models.User.call(this,M);var L=this;this.lists.create=function(){return L.constructor.prototype.lists.create.apply(L,arguments)}}).superclass(twttr.anywhere.api.models.User).statics({_eventing:twttr.aug({},twttr.EventProvider)}).methods({recommendedUsers:B(["UserRecommendation"],function(L){K({options:L,url:"users/recommendations",params:[L],dataSource:[""]})}),directMessages:B(["DirectMessage"],function(L){if(!twttr.is.def(L.include_entities)){L.include_entities=twttr.anywhere.api.config.includeEntities}K({options:L,url:"direct_messages",params:[L],dataSource:["direct_messages"]})}),dms:E(["DirectMessage"],function(L){return this.directMessages(L)}),_isFollowing:function(N,M,L){twttr.anywhere.api.util.makeRemoteRequest("friendships/exists",[{user_a:N,user_b:M}],{success:L.success,error:L.error})},isFollowing:function(L,N){N=twttr.anywhere.api.util.optify(N);var M=twttr.anywhere.api.models.User.identify(L);if(this.constructor.isCacheable()&&!(L instanceof twttr.anywhere.api.models.User)){L=this.constructor._cache.get(M)}if(L instanceof twttr.anywhere.api.models.User){N.success(L.following);return }this._isFollowing(this.id,M,N)},receivedMessages:E(["DirectMessage"],function(L){return this.directMessages(L)}),sentMessages:B(["DirectMessage"],function(L){K({options:L,url:"direct_messages/sent",params:[L],dataSource:["direct_messages"]})}),homeTimeline:B(["Status"],function(M){var L="statuses/home_timeline";if(!twttr.is.def(M.include_entities)){M.include_entities=twttr.anywhere.api.config.includeEntities}if(M.withoutRetweets){L="statuses/friends_timeline"}K({options:M,url:L,params:[M],dataSource:["statuses"]})}),mentions:B(["Status"],function(L){K({options:L,url:"statuses/mentions",params:[L],dataSource:["statuses"]})}),_retweets:B(["Status"],function(M,L){K({options:L,url:M,params:[L],dataSource:["statuses"]})}),trendLocation:B(["Location"],function(L){K({options:L,url:"account/settings",params:[],dataSource:["","trend_location"]})}),setTrendLocation:B(["Location"],{triggers:"changedLocation"},function(M,L){K({options:L,url:"account/settings/create",params:[{trend_location_woeid:M}],dataSource:["","trend_location"]})}),setGeoEnabled:function(O,M){var N=this;var L=M.success;M.success=function(){N.sync("geoEnabled",O);if(L){L.apply(N,arguments)}};K({options:M,url:"account/settings/create",params:[{geo_enabled:O}],dataSource:["","geo_enabled"]})},retweeting:E(["Status"],function(L){return this._retweets("statuses/retweeted_by_me",L)}),retweets:E(["Status"],function(L){return this._retweets("statuses/retweeted_to_me",L)}),retweeted:E(["Status"],function(L){return this._retweets("statuses/retweets_of_me",L)}),blocks:B(["User"],function(L){K({options:L,url:"blocks/blocking",params:[L],dataSource:["users"]})}),lists:E(["List"],function(L){return this.constructor.uber.lists.call(this,L)}),friends:E(["User"],function(L){return this.constructor.uber.friends.call(this,L)}),isBlocking:function(L,N){N=twttr.anywhere.api.util.optify(N);var M=twttr.anywhere.api.models.User.identify(L);twttr.anywhere.api.util.makeRemoteRequest("blocks/exists",[{user_id:M}],{success:function(O){N.success((O.user?true:false))},error:function(O){if(O.status==404){N.success(false)}else{N.error(O)}}})},update:B("User",{expire:true,triggers:"update"},function(L){K({options:L,url:"account/update_profile",params:[L],dataSource:["user"]})}),savedSearches:B(["SavedSearch"],function(L){K({options:L,url:"saved_searches",params:[],dataSource:["saved_searches"]})}),searches:E(["SavedSearch"],function(L){return this.savedSearches(L)}),logout:function(L){parent.twttr.anywhere.signOut()}});twttr.augmentObject(twttr.anywhere.api.models.User.prototype.lists,{find:B("List",{cacheLookup:function(M,L){var N=twttr.API.List._cache.get(M);return N?N:false}},function(M,L){L=twttr.anywhere.api.util.optify(L);if(twttr.is.string(M)){L.slug=M}else{L.list_id=M}K({options:L,url:"lists/show",params:[twttr.merge({owner_id:this.id},L)],dataSource:["list"]})})});twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.lists,{create:B("List",{triggers:"create",triggeredBy:"List"},function(M,L){K({options:L,url:":user/lists/create",params:[this.id,twttr.merge(L,{name:M})],dataSource:["list"]})})});twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.savedSearches,{find:B("SavedSearch",function(M,L){K({options:L,url:"saved_searches/show/:id",params:[M,L],dataSource:["saved_search"]})}),create:B("SavedSearch",{triggers:"create",triggeredBy:"SavedSearch"},function(M,L){K({options:L,url:"saved_searches/create",params:[{query:M}],dataSource:["saved_search"]})})});twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.friends,{pending:B(undefined,function(M){var L=D(["cursor"],M);K({options:M,url:"friendships/incoming",params:[L],dataSource:["","ids"]})})});twttr.anywhere.api.models.CurrentUser.prototype._name=function(){return"current_user"};twttr.anywhere.api.models.CurrentUser.identify=twttr.anywhere.api.models.User.identify;twttr.anywhere.api.models.CurrentUser._registry=twttr.anywhere.api.models.User._registry;twttr.anywhere.api.models.CurrentUser._extensionMethods=twttr.anywhere.api.models.User._extensionMethods;twttr.anywhere.api.models.CurrentUser.isCacheable=twttr.anywhere.api.models.User.isCacheable;if(twttr.anywhere.api.models.CurrentUser.isCacheable()){twttr.anywhere.api.models.CurrentUser._cache=twttr.anywhere.api.models.User._cache}var I=["trigger","bind","_bind","unbind","_unbind","one","_bindWrapper"];for(var C=0,G=I.length;C<G;++C){twttr.anywhere.api.models.CurrentUser[I[C]]=twttr.anywhere.api.models.User[I[C]]}var A=["block","unblock","report","follow","unfollow","setNotificationsOn","setNotificationsOff"];for(var C=0,G=A.length;C<G;++C){twttr.anywhere.api.models.CurrentUser.prototype[A[C]]=J}twttr.anywhere.api.models.CurrentUser.mixin(twttr.anywhere.api.mixins.phoenix.CurrentUser)});twttr.anywhere.api._delayEval(function(){var C=twttr.anywhere.api.util.chainableMethod;var D=twttr.anywhere.api.util.aliasMethod;var B=twttr.anywhere.api.util.callMethod;var A=twttr.anywhere.api.util.defaultTrigger;twttr.anywhere.api.util.model("twttr.anywhere.api.models.DirectMessage",function(E){if(E){twttr.anywhere.api.util.useStringIdentifier(E,"id")}this.constructor.uberclass.call(this,E)}).belongsTo("User","sender").belongsTo("User","recipient").statics({send:C("DirectMessage",{triggers:"send",triggerSource:A,triggerTarget:function(E){return E.recipient}},function(E,G,F){B({options:F,url:"direct_messages/new",params:[{user:twttr.anywhere.api.models.User.identify(E),text:G}],dataSource:["direct_message"]})})}).methods({destroy:C("DirectMessage",{triggers:"delete",triggerTarget:A},function(E){B({options:E,url:"direct_messages/destroy",params:[{id:this.id}],dataSource:["direct_message"]})})})});twttr.anywhere.api._delayEval(function(){var C=twttr.anywhere.api.util.chainableMethod;var D=twttr.anywhere.api.util.aliasMethod;var B=twttr.anywhere.api.util.callMethod;var A=twttr.anywhere.api.util.defaultTrigger;twttr.anywhere.api.util.model("twttr.anywhere.api.models.SavedSearch").methods({destroy:C("SavedSearch",{triggers:"delete",triggerTarget:A},function(E){B({options:E,url:"saved_searches/destroy/:id",params:[this.id,E],dataSource:["saved_search"]})}),results:C(["SearchResult"],function(E){E.q=this.query;B({options:E,url:"search",params:[E],dataSource:["","results"]})})})});twttr.anywhere.api._delayEval(function(){var C=twttr.anywhere.api.util.chainableMethod;var D=twttr.anywhere.api.util.aliasMethod;var B=twttr.anywhere.api.util.callMethod;var E=twttr.anywhere.api.util.filterOptions;var A=twttr.anywhere.api.util.defaultTrigger;twttr.anywhere.api.util.model("twttr.anywhere.api.models.List").cache({keys:[{name:"id",type:"number"}],shouldCacheAssociated:false}).belongsTo("User").methods({subscribe:C("List",{expire:true,triggers:"follow",triggerTarget:A,writes:{subscriberCount:function(){return this.subscriberCount+1}}},function(F){B({options:F,url:":user/:list_id/subscribers/create",params:[this.user.id,this.id,{}],dataSource:["list"]})}),follow:D("List",function(F){return this.subscribe(F)}),unsubscribe:C("List",{expire:true,triggers:"unfollow",triggerTarget:A,writes:{subscriberCount:function(){return this.subscriberCount-1}}},function(F){B({options:F,url:":user/:id/subscribers/destroy",params:[this.user.id,this.id,{}],dataSource:["list"]})}),unfollow:D("List",function(F){return this.unsubscribe(F)}),add:C("List",{expire:true,triggers:"add",triggerTarget:A,writes:{memberCount:function(){return this.memberCount+1}}},function(F,G){B({options:G,url:":user/:list_id/members/create",params:[this.user.id,this.id,{id:twttr.anywhere.api.models.User.identify(F)}],dataSource:["list"]})}),remove:C("List",{expire:true,triggers:"remove",triggerTarget:A,writes:{memberCount:function(){return this.memberCount-1}}},function(F,G){B({options:G,url:":user/:id/members/destroy",params:[this.user.id,this.id,{id:twttr.anywhere.api.models.User.identify(F)}],dataSource:["list"]})}),owner:function(){return this.user},isMember:function(F,H){H=twttr.anywhere.api.util.optify(H);var I=H.error;H.error=function(J){if(J.status===404&&J.reason.match("not a member")){H.success(false)}else{if(I){I(J)}}};var G=H.success;H.success=function(J){if(J.screenName){G(true)}else{G(false)}};B({options:H,url:":user/:list_id/members/:id",params:[this.user.id,this.id,twttr.anywhere.api.models.User.identify(F),{}],cast:twttr.anywhere.api.models.User,dataSource:["user"]})},isSubscriber:function(F,H){H=twttr.anywhere.api.util.optify(H);var I=H.error;H.error=function(J){if(J.status===404&&J.reason.match("not a subscriber")){H.success(false)}else{if(I){I(J)}}};var G=H.success;H.success=function(J){if(J.screenName){G(true)}else{G(false)}};B({options:H,url:":user/:list_id/subscribers/:id",params:[this.user.id,this.id,twttr.anywhere.api.models.User.identify(F),{}],cast:twttr.anywhere.api.models.User,dataSource:["user"]})},destroy:C("List",{expire:true,cache:false,triggers:"delete",triggerTarget:A},function(F){B({options:F,url:"lists/destroy",params:[{list_id:this.id}],dataSource:["list"]})}),update:C("List",{expire:true,triggers:"update",triggerTarget:A},function(F){F=twttr.anywhere.api.util.optify(F);var G=E(["name","description","mode"],F);B({options:F,url:"lists/update",params:[twttr.merge({list_id:this.id},G)],dataSource:["list"]})}),statuses:C(["Status"],function(F){F=twttr.anywhere.api.util.optify(F);if(!twttr.is.def(F.include_entities)){F.include_entities=twttr.anywhere.api.config.includeEntities}B({options:F,url:"lists/statuses",params:[twttr.merge({list_id:this.id},F)],dataSource:["statuses"]})}),subscribers:C(["User"],function(F){B({options:F,url:":user/:list_id/subscribers",params:[this.user.id,this.id,F],dataSource:["users_list","users"]})}),followers:D(["User"],function(F){return this.subscribers(F)}),members:C(["User"],function(F){B({options:F,url:":user/:list_id/members",params:[this.user.id,this.id,F],dataSource:["users_list","users"]})}),following:D(["User"],function(F){return this.members(F)})})});twttr.anywhere.api._delayEval(function(){var C=twttr.anywhere.api.util.chainableMethod;var E=twttr.anywhere.api.util.aliasMethod;var A=twttr.anywhere.api.util.callMethod;var F=twttr.anywhere.api.util.filterOptions;var B=twttr.anywhere.api.cache;var D=twttr.anywhere.api.util.noop;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Location").uniqueKey("woeid").statics({trends:C(["Trend"],function(G,I){var H=this.identify(G);A({options:I,url:"trends/:woeid",params:[H,I],dataSource:["",0,"trends"]})})}).methods({trends:E(["Trend"],function(G){return this.constructor.trends(this.woeid,G)})})});twttr.anywhere.api._delayEval(function(){var C=twttr.anywhere.api.util.chainableMethod;var E=twttr.anywhere.api.util.aliasMethod;var A=twttr.anywhere.api.util.callMethod;var F=twttr.anywhere.api.util.filterOptions;var B=twttr.anywhere.api.cache;var D=twttr.anywhere.api.util.noop;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Trend").uniqueKey("query").statics({locations:C(["Location"],function(G){var H=F(["lat","long"],G);A({options:G,url:"trends/available",params:[H],dataSource:[""]})}),current:C(["Trend"],function(G){A({options:G,url:"trends/current",params:[G],dataSource:["","trends","current_trends"]})})})});twttr.anywhere.api._delayEval(function(){var C=twttr.anywhere.api.util.chainableMethod;var D=twttr.anywhere.api.util.aliasMethod;var B=twttr.anywhere.api.util.callMethod;var A=twttr.anywhere.api.util.defaultTrigger;var E=twttr.anywhere.api.util.filterOptions;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Status",function(F){if(F){F=twttr.anywhere.api.util.unpackTweetEnvelope(F);twttr.anywhere.api.util.useStringIdentifier(F,"id");twttr.anywhere.api.util.useStringIdentifier(F,"in_reply_to_status_id");twttr.anywhere.api.util.useStringIdentifier(F.current_user_retweet,"id");F.text=twttr.anywhere.api.util.sanitize(F.text)}this.constructor.uberclass.call(this,F)}).cache({keys:[{name:"id",type:"string"}],cacheAssociated:true}).belongsTo("User").belongsTo("Status","retweetedStatus").hasOne("Place").extend(function(){this.isRetweet=!!this.retweetedStatus}).statics({find:C("Status",{cacheLookup:function(H,G){var F=this._cache.get(H);return F?F:false}},function(H,F){var G=E(["trim_user","include_entities","contributor_details"],F);if(!twttr.is.def(G.include_entities)){G.include_entities=twttr.anywhere.api.config.includeEntities}if(!twttr.is.def(G.contributor_details)){G.contributor_details=true}if(!twttr.is.def(G.include_entities)){G.include_entities=1}B({options:F,url:"statuses/show",params:[twttr.merge(G,{id:H})],dataSource:["status"]})}),unretweet:C("Status",{expire:true,cache:false,triggers:"unretweet",triggerTarget:function(F){return"current_user"}},function(F,I){var H=this.identify(F);var G=I.success;I.success=function(J){J.expire();G.apply(J,arguments)};B({options:I,url:"statuses/destroy",params:[{id:H}],dataSource:["status"]})}),update:C("Status",{triggers:"update",triggerTarget:A},function(F,G){G.include_entities=true;G.status=F;B({options:G,url:"statuses/update",params:[G],dataSource:["status"]})}),publicTimeline:C(["Status"],function(F){B({options:F,url:"statuses/public_timeline",params:[],dataSource:["statuses"]})}),promotedHomeTimeline:C(["Status"],function(F){B({options:F,url:"promoted_content/home_timeline",params:[],dataSource:["","promoted_tweets"]})}),retweet:C("Status",{triggers:"retweet",triggerSource:function(F){if(F instanceof twttr.anywhere.api.models.Base){return F}else{return"status_"+F}},triggerTarget:function(F){return"current_user"}},function(F,H){var G=this.identify(F);B({options:H,url:"statuses/retweet/:id",params:[G,H],dataSource:["status"]})}),favorite:C("Status",{triggers:"favorite",triggerSource:function(F){if(F instanceof twttr.anywhere.api.models.Base){return F}else{return"status_"+F}},triggerTarget:function(F){return"current_user"}},function(F,H){var G=this.identify(F);B({options:H,url:"favorites/create/:id",params:[G,H],dataSource:["status"]})}),unfavorite:C("Status",{triggers:"unfavorite",triggerSource:function(F){if(F instanceof twttr.anywhere.api.models.Base){return F}else{return"status_"+F}},triggerTarget:function(F){return"current_user"}},function(F,H){var G=this.identify(F);B({options:H,url:"favorites/destroy/:id",params:[G,H],dataSource:["status"]})}),reply:D("Status",function(F,I,H){var G=this.identify(F);H=twttr.merge(twttr.anywhere.api.util.optify(H),{in_reply_to_status_id:G});return this.update(I,H)}),search:C(["SearchResult"],function(G,F){B({options:F,url:"search",params:[twttr.merge({q:G},F)],dataSource:["","results"]})}),griffinTimeline:C(["Status"],function(G,F){B({options:F,url:"statuses/griffin_timeline",params:[twttr.merge({griffin_id:G},F)],dataSource:["statuses"]})}),griffinSocialTimeline:C(["Status"],function(G,F){B({options:F,url:"statuses/griffin_social_timeline",params:[twttr.merge({griffin_id:G},F)],dataSource:["statuses"]})}),griffinMergedTimeline:C(["Status"],function(G,F){B({options:F,url:"statuses/griffin_merged_timeline",params:[twttr.merge({griffin_id:G},F)],dataSource:["statuses"]})})}).methods(twttr.anywhere.api.mixins.StatusActions).methods({bind:twttr.anywhere.api.util.bindMethod,destroy:C("Status",{expire:true,cache:false,triggers:"delete",triggerTarget:function(F){return"current_user"}},function(G){var H=this;var F=G.success;G.success=function(){H.expire();F.apply(H,arguments)};B({options:G,url:"statuses/destroy",params:[{id:this.id}],dataSource:["status"]})}),retweets:C(["Status"],function(F){B({options:F,url:"statuses/retweets/:id",params:[this.id,F],dataSource:["status"]})}),retweeters:C(["User"],function(F){B({options:F,url:"statuses/:id/retweeted_by",params:[this.id,F],dataSource:["users"]})}),contributor:D(["User"],function(F){var G=this.data("contributors");if(G&&twttr.is.array(G)&&G.length===1){return twttr.anywhere.api.models.User.find(this.data("contributors")[0],F)}else{F.success(null)}}),inReplyToUser:D("User",function(F){F=twttr.anywhere.api.util.optify(F);if(this.inReplyToUserId){return twttr.anywhere.api.models.User.find(this.inReplyToUserId,F)}else{F.success(null)}}),inReplyTo:D("Status",function(F){F=twttr.anywhere.api.util.optify(F);if(this.inReplyToStatusId){return twttr.anywhere.api.models.Status.find(this.inReplyToStatusId,F)}else{F.success(null)}})}).mixin(twttr.anywhere.api.mixins.phoenix.Status)});twttr.anywhere.api._delayEval(function(){var A=twttr.anywhere.api.util.aliasMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.SearchResult").methods(twttr.anywhere.api.mixins.StatusActions)});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var C=twttr.anywhere.api.util.aliasMethod;var A=twttr.anywhere.api.util.callMethod;var D=twttr.anywhere.api.util.filterOptions;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Place").belongsTo("Place","contained_within").statics({find:B("Place",function(F,E){A({options:E,url:"geo/id/:id",params:[F,E],dataSource:["place"]})}),search:B(["Place"],function(F){var G=["lat","long","lon","query","ip","granularity","accuracy","autocomplete","max_results","contained_within","attribute:street_address","require_activity"];var E=D(G,F);A({options:F,url:"geo/search",params:[E],dataSource:["","result","places"]})}),reverseGeocode:B(["Place"],function(H,I,F){var G=["long","accuracy","granularity","max_results"];var E=D(G,F);if(E["long"]){I=E["long"];delete E["long"]}A({options:F,url:"geo/reverse_geocode",params:[twttr.merge({},E,{lat:H,lon:I})],dataSource:["","result","places"]})}),create:B("Place",function(I,K,L,H,F,G){var J=["long","attribute:street_address","accuracy"];var E=D(J,G);if(E["long"]){L=E["long"];delete E["long"]}A({options:G,url:"geo/place",params:[twttr.merge({},E,{token:I,lat:K,lon:L,name:H,contained_within:F})],dataSource:[""]})}),similar:B(["Place"],function(I,J,G,F){var H=["long","contained_within","attribute:street_address","accuracy"];var E=D(H,F);if(E["long"]){J=E["long"];delete E["long"]}A({options:F,url:"geo/similar_places",params:[twttr.merge({},E,{lat:I,lon:J,name:G})],dataSource:["","result","places"]})})})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod,A=twttr.anywhere.api.util.callMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.UserRecommendation").hasOne("User").hasMany("User","connections").statics({hide:B(["UserRecommendation"],function(C,E,D){D.recommended_user_id=C;D.token=E;A({options:D,url:"users/recommendations/hide",params:[D],dataSource:[""]})})}).mixin(twttr.anywhere.api.mixins.phoenix.RateUserRecommendation)});twttr.anywhere.api._delayEval(function(){var A=twttr.anywhere.api.util;twttr.anywhere.api.util.model("twttr.anywhere.api.models.SuggestionCategory").hasMany("SuggestionCategory","categories").hasMany("User","users").hasMany("User","sample").statics({getAll:A.chainableMethod(["SuggestionCategory"],function(B){B.localize=true;A.callMethod({options:B,url:"users/suggestions",params:[B],dataSource:[""]})}),randomSample:A.chainableMethod(["User"],function(B){B.localize=true;A.callMethod({options:B,url:"users/suggestions/random",params:[B],dataSource:[""]})})}).methods({members:A.chainableMethod(["User"],function(B){B.localize=true;A.callMethod({options:B,url:"users/suggestions/:slug/members",params:[this.slug,B],dataSource:[""]})})})});twttr.anywhere.api._delayEval(function(){twttr.anywhere.api.util.model("twttr.anywhere.api.models.RelatedTweets").hasMany("RelatedResult","results")});twttr.anywhere.api._delayEval(function(){twttr.anywhere.api.util.model("twttr.anywhere.api.models.RelatedResult").hasOne("Status","value")});twttr.anywhere.api._delayEval(function(){var A=twttr.anywhere.api.util.filterOptions;twttr.klass("twttr.anywhere.api.util.PromotedContent",twttr.anywhere.api.util.noop).statics({logImpression:function(B){this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.DISPLAYED)},logProfileImageClick:function(B){this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.PROFILE_PIC)},logScreenNameClick:function(B){this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.SCREEN_NAME)},logDismissUser:function(B){this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.DISMISS_WITHOUT_REASON)},logShowDetails:function(B){this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.DETAIL)},logHashtagClick:function(B,C){C=C.replace(/^#/,"");this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.HASHTAG,{q:C})},logUserMentionClick:function(B,C){this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.USER_NAME,{username:C})},logUrlClick:function(C,B){this._logImpressionIdEvent(C,twttr.constants.promotedContent.linkType.URL,{src:B})},logDismissUninteresting:function(B){this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.DISMISS_UNINTERESTING)},logDismissRepetitive:function(B){this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.DISMISS_REPETITIVE)},logDismissSpam:function(B){this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.DISMISS_SPAM)},logDismissOther:function(B){this._logImpressionIdEvent(B,twttr.constants.promotedContent.linkType.OTHER)},logTrendImpression:function(B,C){this._logPromotedTrendIdEvent(B,"i",C)},logTrendClick:function(B,C){this._logPromotedTrendIdEvent(B,"c",C)},feedback:function(B){var C=A(["impression_id","status_id","reason","comments"],B);callMethod({options:B,url:"promoted_content/feedback",params:[C],dataSource:[""]})},_logPromotedTrendIdEvent:function(B,D,C){if(B&&D){C=$.extend({promoted_trend_id:B},C);this._logEvent(D,C)}},_logImpressionIdEvent:function(D,C,B){if(D&&C){B=$.extend({impression_id:D},B);this._logEvent(C,B)}},_logEvent:function(D,C){var B=twttr.hosts.remote+"/1/promoted_content/"+D+"/log.png?"+$.param(C);(new Image()).src=B}});twttr.klass("twttr.anywhere.api.util.PromotedStore",twttr.anywhere.api.util.noop).statics({get:function(B){return this._store()[B]},putStatus:function(B){var C=B.impressionId;this._store()[C]=this._promotedDataForStatus(B)},putUser:function(B){var C=B.promotedContent.impression_id;this._store()[C]=this._promotedDataForUser(B)},getPromotedUserInstance:function(B,C){var E=twttr.anywhere.api.util.protoExtend;B=E(B);B.attributes=E(B.attributes);B.impressionId=C;B.attributes.impression_id=C;var D=this.get(C);if(D){B.promotedContent=D.promotedContent;B.attributes.promoted_content=D.promotedContent}return B},getPromotedStatusInstance:function(B,C){var E=twttr.anywhere.api.util.protoExtend;var D=this.get(C);B=E(B);B.impressionId=D.impressionId;B.experiments=D.experiments;B.attributes=E(B.attributes);B.attributes.impression_id=D.impressionId;B.attributes.experiments=D.experiments;return B},_promotedDataForStatus:function(B){B=$.extend({},B);return{impressionId:B.impressionId,experiments:B.experiments}},_promotedDataForUser:function(B){B=$.extend({},B);return{promotedContent:B.promotedContent}},_store:function(){this.store=this.store||{};return this.store}})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var A=twttr.anywhere.api.util.callMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.AddressBook").statics({contactsServices:B(undefined,function(C){A({options:C,url:"find_sources/contacts/services",params:[C],dataSource:["","services"]})}),contactsMatches:B(["User"],function(C){A({options:C,url:"find_sources/contacts/matches",params:[C],dataSource:["","users"]})}),contactsOthers:B("",function(C){A({options:C,url:"find_sources/contacts/others",params:[C],dataSource:["","contacts"]})}),nudgeUndiscoverableContact:B("",function(D,C){A({options:C,url:"find_sources/contacts/nudge",params:[{email:D}],dataSource:[""]})}),followAllContacts:B("",function(C){A({options:C,url:"find_sources/contacts/follow_all",params:[C],dataSource:[""]})}),addContactsToList:B("",function(C,D){A({options:D,url:"find_sources/contacts/add_to_list",params:[{list_id:C}],dataSource:["","user_ids"]})}),sendInvitesByEmail:B(undefined,function(D,C){A({options:C,url:"users/send_invites_by_email",params:[{addresses:D.join(",")}],dataSource:[""]})})})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var A=twttr.anywhere.api.util.callMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Promo").statics({random:B(undefined,function(D,C){A({options:C,url:"promos/random_json_promo",params:[D],dataSource:[""]})})})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var A=twttr.anywhere.api.util.callMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Urls").statics({resolve:B(undefined,function(D,C){A({options:C,url:"urls/resolve",params:[{urls:D}],dataSource:[""]})}),shorten:B(undefined,function(D,C){A({options:C,url:"urls/shorten",params:[{url:D}],dataSource:[""]})}),shortenMultiple:B(undefined,function(D,C){A({options:C,url:"urls/shorten_multiple",params:[{urls:D}],dataSource:[""]})})})});twttr.anywhere.api._delayEval(function(){var A=twttr.anywhere.api.util.aliasMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Blob").methods({get:function(B){B(this)}})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var A=twttr.anywhere.api.util.callMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Device").statics({list:B(null,function(C){A({options:C,url:"devices/list",params:[],dataSource:[""]})}),carriers:B("Blob",function(C){A({options:C,url:"devices/carriers",params:[C],dataSource:["carriers"]})}),create:B(null,function(D,C){A({options:C,url:"devices/create",params:[D],dataSource:[""]})}),destroy:B(null,function(D,C){A({options:C,url:"devices/destroy",params:[{id:D}],dataSource:[""]})})})});twttr.anywhere.api._delayEval(function(){var B=twttr.anywhere.api.util.chainableMethod;var A=twttr.anywhere.api.util.callMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Download").statics({apps:B("",function(C){A({options:C,url:"download/apps",params:[],dataSource:[""]})}),sendLink:B("",function(D,E,C){A({options:C,url:"download/send_link",params:[{email_or_phone:D,app_id:E}],dataSource:[""]})})})});twttr.anywhere.api._delayEval(function(){var C=twttr.anywhere.api.util.chainableMethod;var D=twttr.anywhere.api.util.aliasMethod;var B=twttr.anywhere.api.util.callMethod;var A=twttr.anywhere.api.util.defaultTrigger;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Search",function(E){this.constructor.uberclass.call(this,E)}).statics({getFacets:C(undefined,function(E){B({options:E,url:"search/facets",params:[E],dataSource:[""]})})})});twttr.extendAPI=function(){twttr.API.DirectMessage.extend(function(){this.threadId=this.senderScreenName===twttr.currentUser.screenName?this.recipientScreenName:this.senderScreenName});var B=function(C){var F=C.retweetedStatus;var E=new twttr.API.Status;var D;for(D in C){E[D]=C[D];delete C[D]}for(D in F){C[D]=F[D]}C.retweetingStatus=E;C.wasRetweeted=true;if(twttr.currentUser&&E.user&&E.user.id===twttr.currentUser.id){F.sync("current_user_retweet",{id:E.id})}delete C.retweetingStatus.retweetedStatus;delete C.retweetingStatus.attributes.retweeted_status;A(C)};var A=function(C){if(C.retweetingStatus.isPromoted()){C.attributes.impression_id=C.retweetingStatus.attributes.impression_id;C.attributes.experiments=C.retweetingStatus.attributes.experiments;C.impressionId=C.retweetingStatus.impressionId;C.experiments=C.retweetingStatus.experiments;delete C.retweetingStatus.impressionId;delete C.retweetingStatus.experiments;delete C.retweetingStatus.attributes.impression_id;delete C.retweetingStatus.attributes.experiments}};twttr.API.Status.extend(function(){if(this.isRetweet){B(this)}function D(F){return F===null}this.isReply=!!this.inReplyToStatusId;this.hasGeo=Boolean(!D(this.coordinates)||this.place&&this.place.id);if(this.hasGeo){this.placeName=this.place&&this.place.fullName?this.place.fullName:"here"}var C=!D(this.coordinates)||(!D(this.place)&&this.place.placeType=="poi");var E=this.entities&&this.entities.places&&this.entities.places.length>0;this.showGeoMap=C&&!E;this.showGeoIcon=C||E});twttr.API.List.extend(function(){this.isOwnList=twttr.currentUser?twttr.currentUser.id===this.user.id:null});twttr.API.SavedSearch.extend(function(){var C=this.query.match(/^place:([a-f0-9]{16})$/);this.isPlaceSearch=Boolean(C);if(C){this.placeId=C[1]}})};provide(">api_bundle_evaled");